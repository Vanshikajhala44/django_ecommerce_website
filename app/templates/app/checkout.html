{% extends 'app/base.html' %}
{% block main-content %}

<div class="container my-5">
    <h3>Checkout</h3>

    <form method="POST" action="{% url 'place_order' %}">
        {% csrf_token %}

        <h5>Select Address</h5>
        {% for addr in addresses %}
            <div class="form-check mb-2">
                <input class="form-check-input" type="radio"
                       name="address" value="{{ addr.id }}" required>
                <label class="form-check-label">
                    {{ addr.name }}, {{ addr.address }},
                    {{ addr.city }}, {{ addr.state }}
                </label>
            </div>
        {% endfor %}

        <hr>

        <h5>Order Summary</h5>
        {% for item in cart %}
            <p>
                {{ item.product.title }} × {{ item.quantity }}
                <span class="float-end">₹ {{ item.total_cost }}</span>
            </p>
        {% endfor %}

        <hr>
        <p>Subtotal: ₹ {{ amount }}</p>
<p>Shipping: ₹ {{ shipping }}</p>
<p><strong>Total: ₹ {{ total_amount }}</strong></p>


        <button type="submit" class="btn btn-primary mt-3">
            Place Order
        </button>
    </form>
</div>

{% endblock %}
